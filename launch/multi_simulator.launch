<launch> 
  <!-- first let's add the static frame broadcaster that broadcasts frames in a default config -->
  <include file="$(find robot_simulator)/launch/default_calibration_frames.launch" />

  <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
  <!-- LAUNCH ROBOTS -->
  <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->

  <param name="/robot_description" textfile="$(find robot_simulator)/urdf/robot_base.urdf" />
  <!-- robot number 1 -->
  <group ns="robot_1" >
    <arg name="rn" value="robot_1" />
    <!-- set all parameters for this namespace -->
    <param name="robot_index" value="1" />
    <param name="tf_prefix" value="$(arg rn)" />
    <param name="robot_description" textfile="$(find robot_simulator)/urdf/robot_base.urdf" />

    <!-- launch all required nodes -->
    <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" />
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher"/>
    <node pkg="tf" type="static_transform_publisher" name="model_connector"
	  args="0 0 0 0 0 0 1 base_footprint_kinect base_link 100" />
    <!-- args="0 0 0 0 0 0 1 $(arg rn)/base_footprint_kinect $(arg rn)/base_link 100" /> -->
    <node pkg="robot_simulator" type="robot_simulator" name="simulator"
	  output="screen" respawn="true" />
  </group>  

</launch>
